{
    "options":[
       {
          "enabled":true,
          "definition":{
             "id":"5d58cc01-7c75-450c-be18-a388ddb129ec"
          },
          "inputs":{
             "branchFilters":"[\"+refs/heads/*\"]",
             "additionalFields":"{}"
          }
       },
       {
          "enabled":false,
          "definition":{
             "id":"a9db38f9-9fdc-478c-b0f9-464221e58316"
          },
          "inputs":{
             "workItemType":"Bug",
             "assignToRequestor":"true",
             "additionalFields":"{}"
          }
       }
    ],
    "variables":{
       "appDir":{
          "value":"$(System.DefaultWorkingDirectory)/pwa/FADapp"
       },
       "AzureMapsAPIKey":{
          "value":"qwYjF1yWXa_iWGZAlW2jWSxY48LW5pKkmNJAT17FrMo"
       },
       "system.debug":{
          "value":"false",
          "allowOverride":true
       }
    },
    "properties":{
       
    },
    "tags":[
       
    ],
    "_links":{
       "self":{
          "href":"https://dev.azure.com/ucabaz1/d65505ec-3a7f-43ac-97f6-8e073fc0e16c/_apis/build/Definitions/6?revision=11"
       },
       "web":{
          "href":"https://dev.azure.com/ucabaz1/d65505ec-3a7f-43ac-97f6-8e073fc0e16c/_build/definition?definitionId=6"
       },
       "editor":{
          "href":"https://dev.azure.com/ucabaz1/d65505ec-3a7f-43ac-97f6-8e073fc0e16c/_build/designer?id=6&_a=edit-build-definition"
       },
       "badge":{
          "href":"https://dev.azure.com/ucabaz1/d65505ec-3a7f-43ac-97f6-8e073fc0e16c/_apis/build/status/6"
       }
    },
    "jobAuthorizationScope":1,
    "jobTimeoutInMinutes":60,
    "jobCancelTimeoutInMinutes":5,
    "process":{
       "phases":[
          {
             "steps":[
                {
                   "environment":{
                      
                   },
                   "enabled":true,
                   "continueOnError":false,
                   "alwaysRun":false,
                   "displayName":"Build extensions",
                   "timeoutInMinutes":0,
                   "condition":"succeeded()",
                   "task":{
                      "id":"6c731c3c-3c68-459a-a5c9-bde6e6595b5b",
                      "versionSpec":"3.*",
                      "definitionType":"task"
                   },
                   "inputs":{
                      "targetType":"inline",
                      "filePath":"",
                      "arguments":"",
                      "script":"if [ -f extensions.csproj ]\nthen\n    dotnet build extensions.csproj --output ./bin\nfi",
                      "workingDirectory":"",
                      "failOnStderr":"false",
                      "noProfile":"true",
                      "noRc":"true"
                   }
                },
                {
                   "environment":{
                      
                   },
                   "enabled":true,
                   "continueOnError":false,
                   "alwaysRun":false,
                   "displayName":"Use Node version 12.13.1",
                   "timeoutInMinutes":0,
                   "condition":"succeeded()",
                   "task":{
                      "id":"31c75bbb-bcdf-4706-8d7c-4da6a1959bc2",
                      "versionSpec":"0.*",
                      "definitionType":"task"
                   },
                   "inputs":{
                      "versionSpec":"12.13.1",
                      "checkLatest":"false",
                      "force32bit":"false"
                   }
                },
                {
                   "environment":{
                      
                   },
                   "enabled":true,
                   "continueOnError":false,
                   "alwaysRun":false,
                   "displayName":"Install Application Dependencies",
                   "timeoutInMinutes":0,
                   "condition":"succeeded()",
                   "task":{
                      "id":"fe47e961-9fa8-4106-8639-368c022d43ad",
                      "versionSpec":"1.*",
                      "definitionType":"task"
                   },
                   "inputs":{
                      "command":"install",
                      "workingDir":"$(appDir)",
                      "verbose":"false",
                      "customCommand":"",
                      "customRegistry":"useNpmrc",
                      "customFeed":"",
                      "customEndpoint":"",
                      "publishRegistry":"useExternalRegistry",
                      "publishFeed":"",
                      "publishPackageMetadata":"true",
                      "publishEndpoint":""
                   }
                },
                {
                   "environment":{
                      "AzureMapsAPIKey":"qwYjF1yWXa_iWGZAlW2jWSxY48LW5pKkmNJAT17FrMo"
                   },
                   "enabled":true,
                   "continueOnError":false,
                   "alwaysRun":false,
                   "displayName":"PowerShell Script",
                   "timeoutInMinutes":0,
                   "condition":"succeeded()",
                   "task":{
                      "id":"e213ff0f-5d5c-4791-802d-52ea3e7be1f1",
                      "versionSpec":"2.*",
                      "definitionType":"task"
                   },
                   "inputs":{
                      "targetType":"inline",
                      "filePath":"",
                      "arguments":"",
                      "script":"# Write your PowerShell commands here.\n\nNew-Item $(System.DefaultWorkingDirectory)/pwa/FADapp/public/javascripts/AzureMapsAPIKey.txt; Set-Content $(System.DefaultWorkingDirectory)/pwa/FADapp/public/javascripts/AzureMapsAPIKey.txt '$(AzureMapsAPIKey)'\n",
                      "errorActionPreference":"stop",
                      "failOnStderr":"false",
                      "showWarnings":"false",
                      "ignoreLASTEXITCODE":"false",
                      "pwsh":"false",
                      "workingDirectory":""
                   }
                },
                {
                   "environment":{
                      
                   },
                   "enabled":true,
                   "continueOnError":false,
                   "alwaysRun":false,
                   "displayName":"Run 'build' script",
                   "timeoutInMinutes":0,
                   "condition":"succeeded()",
                   "task":{
                      "id":"fe47e961-9fa8-4106-8639-368c022d43ad",
                      "versionSpec":"1.*",
                      "definitionType":"task"
                   },
                   "inputs":{
                      "command":"custom",
                      "workingDir":"$(appDir)",
                      "verbose":"false",
                      "customCommand":"run-script build ",
                      "customRegistry":"useNpmrc",
                      "customFeed":"",
                      "customEndpoint":"",
                      "publishRegistry":"useExternalRegistry",
                      "publishFeed":"",
                      "publishPackageMetadata":"true",
                      "publishEndpoint":""
                   }
                },
                {
                   "environment":{
                      
                   },
                   "enabled":true,
                   "continueOnError":false,
                   "alwaysRun":false,
                   "displayName":"npm test",
                   "timeoutInMinutes":0,
                   "condition":"succeeded()",
                   "task":{
                      "id":"fe47e961-9fa8-4106-8639-368c022d43ad",
                      "versionSpec":"1.*",
                      "definitionType":"task"
                   },
                   "inputs":{
                      "command":"custom",
                      "workingDir":"$(appDir)",
                      "verbose":"false",
                      "customCommand":"test",
                      "customRegistry":"useNpmrc",
                      "customFeed":"",
                      "customEndpoint":"",
                      "publishRegistry":"useExternalRegistry",
                      "publishFeed":"",
                      "publishPackageMetadata":"true",
                      "publishEndpoint":""
                   }
                },
                {
                   "environment":{
                      
                   },
                   "enabled":false,
                   "continueOnError":false,
                   "alwaysRun":false,
                   "displayName":"Remove extraneous packages",
                   "timeoutInMinutes":0,
                   "condition":"succeeded()",
                   "task":{
                      "id":"fe47e961-9fa8-4106-8639-368c022d43ad",
                      "versionSpec":"1.*",
                      "definitionType":"task"
                   },
                   "inputs":{
                      "command":"custom",
                      "workingDir":"$(System.DefaultWorkingDirectory)",
                      "verbose":"false",
                      "customCommand":"prune --production",
                      "customRegistry":"useNpmrc",
                      "customFeed":"",
                      "customEndpoint":"",
                      "publishRegistry":"useExternalRegistry",
                      "publishFeed":"",
                      "publishPackageMetadata":"true",
                      "publishEndpoint":""
                   }
                },
                {
                   "environment":{
                      
                   },
                   "enabled":true,
                   "continueOnError":false,
                   "alwaysRun":false,
                   "displayName":"Archive files",
                   "timeoutInMinutes":0,
                   "condition":"succeeded()",
                   "task":{
                      "id":"d8b84976-e99a-4b86-b885-4849694435b0",
                      "versionSpec":"2.*",
                      "definitionType":"task"
                   },
                   "inputs":{
                      "rootFolderOrFile":"$(appDir)",
                      "includeRootFolder":"false",
                      "archiveType":"zip",
                      "sevenZipCompression":"5",
                      "tarCompression":"gz",
                      "archiveFile":"$(Build.ArtifactStagingDirectory)/$(Build.BuildId).zip",
                      "replaceExistingArchive":"true",
                      "verbose":"false",
                      "quiet":"false"
                   }
                },
                {
                   "environment":{
                      
                   },
                   "enabled":true,
                   "continueOnError":false,
                   "alwaysRun":false,
                   "displayName":"Publish Artifact: drop",
                   "timeoutInMinutes":0,
                   "condition":"succeeded()",
                   "task":{
                      "id":"2ff763a7-ce83-4e1f-bc89-0ae63477cebe",
                      "versionSpec":"1.*",
                      "definitionType":"task"
                   },
                   "inputs":{
                      "PathtoPublish":"$(Build.ArtifactStagingDirectory)",
                      "ArtifactName":"drop",
                      "ArtifactType":"Container",
                      "TargetPath":"",
                      "Parallel":"false",
                      "ParallelCount":"8",
                      "FileCopyOptions":""
                   }
                }
             ],
             "name":"Agent job 1",
             "refName":"Job_1",
             "condition":"succeeded()",
             "target":{
                "executionOptions":{
                   "type":0
                },
                "allowScriptsAuthAccessOption":false,
                "type":1
             },
             "jobAuthorizationScope":1
          }
       ],
       "target":{
          "agentSpecification":{
             "identifier":"windows-2019"
          }
       },
       "type":1
    },
    "repository":{
       "properties":{
          "fullName":"repository",
          "cloneUrl":"https://github.com/UCLComputerScience/COMP0016_2020_21_Team12/",
          "isPrivate":"True",
          "checkoutNestedSubmodules":"false",
          "cleanOptions":"0",
          "fetchDepth":"0",
          "gitLfsSupport":"false",
          "reportBuildStatus":"true",
          "connectedServiceId":"0c76c6c9-2aff-4c02-b0a0-73dec81c2672",
          "skipSyncSource":"false",
          "labelSourcesFormat":"$(build.buildNumber)",
          "labelSources":"0"
       },
       "id":"https://github.com/UCLComputerScience/COMP0016_2020_21_Team12/",
       "type":"Git",
       "name":"GitAk47na",
       "url":"https://github.com/UCLComputerScience/COMP0016_2020_21_Team12/",
       "defaultBranch":"datasetsExperimentsAna",
       "clean":"false",
       "checkoutSubmodules":false
    },
    "processParameters":{
       
    },
    "quality":1,
    "authoredBy":{
       "displayName":"Ana Kapros",
       "url":"https://spsprodweu4.vssps.visualstudio.com/A75a05f00-89a8-4759-8ba5-d5e55198739d/_apis/Identities/f5a56809-3c0b-6e9d-b1d4-e3d96daa0597",
       "_links":{
          "avatar":{
             "href":"https://dev.azure.com/ucabaz1/_apis/GraphProfile/MemberAvatars/aad.ZjVhNTY4MDktM2MwYi03ZTlkLWIxZDQtZTNkOTZkYWEwNTk3"
          }
       },
       "id":"f5a56809-3c0b-6e9d-b1d4-e3d96daa0597",
       "uniqueName":"ucabaz1@ucl.ac.uk",
       "imageUrl":"https://dev.azure.com/ucabaz1/_apis/GraphProfile/MemberAvatars/aad.ZjVhNTY4MDktM2MwYi03ZTlkLWIxZDQtZTNkOTZkYWEwNTk3",
       "descriptor":"aad.ZjVhNTY4MDktM2MwYi03ZTlkLWIxZDQtZTNkOTZkYWEwNTk3"
    },
    "drafts":[
       
    ],
    "queue":{
       "_links":{
          "self":{
             "href":"https://dev.azure.com/ucabaz1/_apis/build/Queues/36"
          }
       },
       "id":36,
       "name":"Azure Pipelines",
       "url":"https://dev.azure.com/ucabaz1/_apis/build/Queues/36",
       "pool":{
          "id":9,
          "name":"Azure Pipelines",
          "isHosted":true
       }
    },
    "id":6,
    "name":"FADAppCI",
    "url":"https://dev.azure.com/ucabaz1/d65505ec-3a7f-43ac-97f6-8e073fc0e16c/_apis/build/Definitions/6?revision=11",
    "uri":"vstfs:///Build/Definition/6",
    "path":"\\",
    "type":2,
    "queueStatus":0,
    "revision":11,
    "createdDate":"2021-03-16T10:10:07.240Z",
    "project":{
       "id":"d65505ec-3a7f-43ac-97f6-8e073fc0e16c",
       "name":"PWA1",
       "url":"https://dev.azure.com/ucabaz1/_apis/projects/d65505ec-3a7f-43ac-97f6-8e073fc0e16c",
       "state":1,
       "revision":35,
       "visibility":0,
       "lastUpdateTime":"2021-01-24T12:46:09.930Z"
    }
 }